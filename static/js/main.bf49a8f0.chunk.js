(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(24).concat([function(e,t,n){},,,,,,,,function(e,t,n){e.exports=n.p+"static/media/curve.8317a901.svg"},function(e,t,n){e.exports=n.p+"static/media/meteorite.bd106e32.svg"},function(e,t,n){e.exports=n.p+"static/media/alarm.1f9a1e97.svg"},function(e,t,n){e.exports=n.p+"static/media/all_inbox.07afdca7.svg"},function(e,t,n){e.exports=n.p+"static/media/back.ac944051.svg"},function(e,t,n){e.exports=n.p+"static/media/bolt.5af80b74.svg"},function(e,t,n){e.exports=n.p+"static/media/bolt-white.f705bc3d.svg"},function(e,t,n){e.exports=n.p+"static/media/bookmark-alt.3f1c7930.svg"},function(e,t,n){e.exports=n.p+"static/media/bookmark-alt-white.43981eb1.svg"},function(e,t,n){e.exports=n.p+"static/media/bookmark.84162454.svg"},function(e,t,n){e.exports=n.p+"static/media/bookmarks.dafc5a09.svg"},function(e,t,n){e.exports=n.p+"static/media/check.235701a7.svg"},function(e,t,n){e.exports=n.p+"static/media/clock.f704b852.svg"},function(e,t,n){e.exports=n.p+"static/media/convo.3237a8b6.svg"},function(e,t,n){e.exports=n.p+"static/media/done-all.063fa933.svg"},function(e,t,n){e.exports=n.p+"static/media/done.e249914e.svg"},function(e,t,n){e.exports=n.p+"static/media/hot.83e346c1.svg"},function(e,t,n){e.exports=n.p+"static/media/help.af2f5bd3.svg"},function(e,t,n){e.exports=n.p+"static/media/inbox.5773ced0.svg"},function(e,t,n){e.exports=n.p+"static/media/info.7d03c90c.svg"},function(e,t,n){e.exports=n.p+"static/media/inbox-white.33ab9f01.svg"},function(e,t,n){e.exports=n.p+"static/media/locked.6e97143e.svg"},function(e,t,n){e.exports=n.p+"static/media/low_priority.d335a12d.svg"},function(e,t,n){e.exports=n.p+"static/media/menu.1e899223.svg"},function(e,t,n){e.exports=n.p+"static/media/next.b6b6c4db.svg"},function(e,t,n){e.exports=n.p+"static/media/people.a1a1234d.svg"},function(e,t,n){e.exports=n.p+"static/media/people-white.021c4869.svg"},function(e,t,n){e.exports=n.p+"static/media/people-alt.dab4fe40.svg"},function(e,t,n){e.exports=n.p+"static/media/people-alt-white.82f1df7b.svg"},function(e,t,n){e.exports=n.p+"static/media/prev.7e77da69.svg"},function(e,t,n){e.exports=n.p+"static/media/refresh.fbf012c9.svg"},function(e,t,n){e.exports=n.p+"static/media/search.a87eca9e.svg"},function(e,t,n){e.exports=n.p+"static/media/settings.674d9d35.svg"},function(e,t,n){e.exports=n.p+"static/media/star-alt.f02a9cc4.svg"},function(e,t,n){e.exports=n.p+"static/media/star.d0367478.svg"},function(e,t,n){e.exports=n.p+"static/media/trash.30e9677a.svg"},function(e,t,n){e.exports=n.p+"static/media/timer.3d7813e9.svg"},function(e,t,n){e.exports=n.p+"static/media/unlocked.ba846a91.svg"},function(e,t,n){e.exports=n.p+"static/media/undo.42f85826.svg"},function(e,t,n){e.exports=n.p+"static/media/user.f322cb5a.svg"},function(e,t,n){e.exports=n.p+"static/media/x.777b93c6.svg"},function(e,t,n){e.exports=n.p+"static/media/issue-closed.5f7eef90.svg"},function(e,t,n){e.exports=n.p+"static/media/issue-open.8de00201.svg"},function(e,t,n){e.exports=n.p+"static/media/pr-closed.1c246004.svg"},function(e,t,n){e.exports=n.p+"static/media/pr-open.a18f5c9f.svg"},function(e,t,n){e.exports=n.p+"static/media/pr-merged.560fc2b8.svg"},function(e,t,n){e.exports=n.p+"static/media/loader.90c5baad.svg"},function(e,t,n){e.exports=n.p+"static/media/loader-alt.1b67c2ce.svg"},function(e,t,n){e.exports=n.p+"static/media/loader-white.15dd7fce.svg"},,,function(e,t,n){e.exports=n(107)},,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(27),r=n.n(i),c=(n(88),n(2)),s=n(3),l=n(5),u=n(4),f=n(6),d=n(10),p={HOME:"/",NOTIFICATIONS:"notifications",LOGIN:"login"},h=n(9),m=n(21),g=n(7),b=n.n(g),v=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={cookies:{}},n.mapifyCookies=function(){return document.cookie.split(";").map(function(e){return e.trim()}).reduce(function(e,t){var n=t.split("="),a=Object(m.a)(n,2),o=a[0],i=a[1];return e[o]=i,e},{})},n.hydrateCookies=function(){var e=n.mapifyCookies();n.setState({cookies:e})},n.setCookie=function(e,t){document.cookie="".concat(e,"=").concat(t),n.hydrateCookies()},n.getCookie=function(e){return n.state.cookies[e]},n.removeCookie=function(e){document.cookie="".concat(e,"=''; expires=").concat(b()().subtract(1,"day").toString()),n.hydrateCookies()},n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.hydrateCookies()}},{key:"render",value:function(){return this.props.children(Object(h.a)({},this.state,{setCookie:this.setCookie,getCookie:this.getCookie,removeCookie:this.removeCookie}))}}]),t}(o.a.Component),E=function(e){return function(t){return o.a.createElement(v,null,function(n){return o.a.createElement(e,Object.assign({},t,{cookiesApi:n}))})}},k="meteorite-oauth-token",y=o.a.createContext("foo"),x=y.Provider,O=y.Consumer,S=function(e){return function(t){return o.a.createElement(O,null,function(n){return o.a.createElement(e,Object.assign({},t,{authApi:n}))})}},w=E(function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={token:n.props.cookiesApi.getCookie(k)},n.setToken=function(e){n.props.cookiesApi.setCookie(k,e),n.setState({token:e})},n.invalidateToken=function(){n.setState({token:null})},n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(x,{value:{token:this.state.token,setToken:this.setToken,invalidateToken:this.invalidateToken}},this.props.children)}}]),t}(o.a.Component)),j=n(13),C=n(11),T=n(1),A=n(8),I=n(32),N=n.n(I);function R(e){Object(A.a)({},e);return o.a.createElement("div",{style:{background:"url(".concat(N.a,") center bottom"),position:"absolute",bottom:"0",left:"50%",transform:"translateX(-50%)",width:"190vw",paddingBottom:"4.5%",backgroundSize:"cover",marginBottom:"-1px"}})}var M=n(33),D=n.n(M);function P(e){var t=e.style,n=e.size,a=Object(C.a)(e,["style","size"]);return o.a.createElement("div",Object.assign({style:Object(h.a)({background:"url(".concat(D.a,") center center no-repeat"),backgroundSize:"contain",position:"relative",height:n,width:n},t)},a))}n(24);var L=Object(T.a)("h1")({color:"#fff",padding:"0 20px",margin:"0 auto 20px",letterSpacing:"-1.0px"}),z=Object(T.a)(L)({fontWeight:500,maxWidth:460,color:"#fff",fontSize:24,marginBottom:30,letterSpacing:"-0.25px"}),U=Object(T.a)("div")({width:"100%",margin:"54px 20px",maxWidth:1e3,display:"flex",justifyContent:"space-between"}),_=Object(T.a)(U)({flexDirection:"column",textAlign:"center",maxWidth:1e3,h1:{display:"block"}}),q=Object(T.a)("a")({fontSize:"12px",fontWeight:"700",color:"#ffffff",textDecoration:"none",":hover":{textDecoration:"underline"}}),W=Object(T.a)("span")({fontSize:"12px",fontWeight:"500",color:"#ffffff"}),F=Object(T.a)(U)({maxWidth:390,width:"100%",margin:"32px auto 0"}),G=Object(T.a)("a")({});function H(e){var t=e.loggedIn,n=e.onLogout;Object(C.a)(e,["loggedIn","onLogout"]);return o.a.createElement("div",{className:"container-gradient",style:{width:"100%",height:600,position:"relative",display:"flex",flexDirection:"column",alignItems:"center",overflowX:"hidden"}},o.a.createElement(U,null,o.a.createElement(P,{size:75}),t?o.a.createElement("div",{className:"button-container"},o.a.createElement(d.a,{style:{marginRight:15},to:p.NOTIFICATIONS},"notifications"),o.a.createElement(G,{style:{marginRight:15},href:"#",onClick:n},"sign out")):o.a.createElement("div",{className:"button-container"},o.a.createElement(d.a,{style:{marginRight:15},to:p.LOGIN},"sign in"))),o.a.createElement(_,null,o.a.createElement(L,null,"Control your notifications"),o.a.createElement(z,null,"Prioritize the tasks that keep you and your team most productive"),o.a.createElement("div",{className:"button-container"},o.a.createElement(d.a,{to:p.LOGIN},"let's get started")),o.a.createElement(F,null,o.a.createElement(q,{target:"_blank",href:"https://github.com/nickzuber/meteorite"},"View and contribute on GitHub"),o.a.createElement(W,null,"Totally free and open sourced"))),o.a.createElement(R,null))}for(var B=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onLogout=function(){n.props.cookiesApi.removeCookie(k),n.props.authApi.invalidateToken()},n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(H,{loggedIn:!!this.props.authApi.token,onLogout:this.onLogout})}}]),t}(o.a.Component),Q=Object(j.a)(S,E)(B),X=n(12),Y={QUEUED:"queued",STAGED:"staged",CLOSED:"closed"},J={MENTION:"mention",ASSIGN:"assign",REVIEW_REQUESTED:"review_requested",SUBSCRIBED:"subscribed",AUTHOR:"author",OTHER:"other",COMMENT:"comment"},V={HOT:"hot",COMMENTS:"comments",OLD:"old"},$="__meteorite_noti_cache__",K="__meteorite_statistic_cache__",Z=function(e){return{id:e,updated_at:b()().format(),status:e>.8?Y.STAGED:Y.QUEUED,reasons:function(e){var t=Object.values(J),n=t.length;return new Array(e).fill(0).map(function(e){return{reason:t[Math.floor(Math.random()*n)],time:b()().format()}})}(Math.ceil(10*e)),type:["Issue","PullRequest"][Math.floor(2*e)],name:"Mock - Fake notification name",url:"https://github.com/test/repo/pull",repository:"test/mock",number:Math.ceil(1e3*e),repositoryUrl:"https://github.com/test/repo"}},ee=new Array(1e3),te=0;te<ee.length;te++)ee[te]=Z(Math.random());var ne=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={loading:!1,error:null,notifications:[]},n.setTitle=function(e){-1===document.title.indexOf("(1)")&&document.title!==e&&(document.title=e)},n.refreshNotifications=function(){var e=Object.keys(window.localStorage).reduce(function(e,t){if(t.indexOf($)>-1){var n=JSON.parse(window.localStorage.getItem(t));e.push(n)}return e},[]);n.setState({notifications:e})},n.getStat=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b()(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b()().add(1,"day"),a=[],o=t.clone();o.isBefore(n);o.add(1,"day")){var i=o.format("YYYY-MM-DD"),r=window.localStorage.getItem("".concat(K).concat(i,"-").concat(e));null!==r&&a.push(r)}return a},n.incrStat=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:b()()).format("YYYY-MM-DD"),n=window.localStorage.getItem("".concat(K).concat(t,"-").concat(e));null!==n?window.localStorage.setItem("".concat(K).concat(t,"-").concat(e),parseInt(n,10)+1):window.localStorage.setItem("".concat(K).concat(t,"-").concat(e),1)},n.setItem=function(e,t){window.localStorage.setItem("".concat($).concat(e),JSON.stringify(t))},n.getItem=function(e){try{return JSON.parse(window.localStorage.getItem("".concat($).concat(e)))}catch(t){return null}},n.removeItem=function(e){var t=n.getItem(e),a=Object(h.a)({},t,{status:Y.CLOSED});n.setItem(e,a)},n.clearCache=function(){window.localStorage.clear()},n.originalTitle=document.title,n.shouldUpdateTitle=!1,n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.refreshNotifications()}},{key:"componentDidMount",value:function(){var e=this;window.onfocus=function(){return e.setTitle(e.originalTitle)}}},{key:"render",value:function(){return this.props.children(Object(h.a)({},this.state,{setItem:this.setItem,getItem:this.getItem,removeItem:this.removeItem,clearCache:this.clearCache,refreshNotifications:this.refreshNotifications,getStat:this.getStat,incrStat:this.incrStat}))}}]),t}(o.a.Component),ae="https://api.github.com";function oe(e){return e.replace("api.github.com","github.com").replace("/repos/","/").replace("/pulls/","/pull/")}function ie(e){var t=e.headers.entries(),n={},a=!0,o=!1,i=void 0;try{for(var r,c=t[Symbol.iterator]();!(a=(r=c.next()).done);a=!0){var s=r.value,l=Object(m.a)(s,2),u=l[0],f=l[1];n[u]=f}}catch(h){o=!0,i=h}finally{try{a||null==c.return||c.return()}finally{if(o)throw i}}var d=n.link,p={};return d&&d.split(",").forEach(function(e){var t=e.split(";");if(2!==t.length)throw new Error("section could not be split on ';'");var n=t[0].replace(/<(.*)>/,"$1").trim(),a=t[0].match(/page=(\d)/)[1],o=t[1].replace(/rel="(.*)"/,"$1").trim();p[o]={url:n,page:a}}),n.link=p,304===e.status?Promise.resolve({headers:n,json:null}):e.json().then(function(e){return{headers:n,json:e}})}var re=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={loading:!1,error:null},n.requestPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a={Authorization:"token ".concat(n.props.token),"Content-Type":"application/json"};return t&&n.last_modified&&(a["If-Modified-Since"]=n.last_modified),fetch("".concat(ae,"/notifications?page=").concat(e),{method:"GET",headers:a}).then(ie).then(function(e){var t=e.headers,a=e.json;return t["last-modified"]&&(n.last_modified=t["last-modified"]),{headers:t,json:a}})},n.requestFetchNotifications=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.requestPage(e,t).then(function(e){var t=e.headers,a=e.json;if(null!==a){var o=null,i=t.link;return i&&i.next&&i.next.page&&(o=i.next.page),n.processNotificationsChunk(o,a)}})},n.fetchNotifications=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.props.token?(n.setState({loading:!0}),n.requestFetchNotifications(e,t).catch(function(e){return n.setState({error:e})}).finally(function(){return n.setState({loading:!1})})):(console.error("Unauthenitcated, aborting request."),!1)},n.processNotificationsChunk=function(e,t){return new Promise(function(a,o){console.log("chunk",t);var i=!0;t.length,t.forEach(function(e){var t=n.props.getItemFromStorage(e.id);if(t){if(t.updated_at!==e.updated_at)return void n.updateNotification(e,t.reasons);i=!1}else n.updateNotification(e)}),e&&i?n.fetchNotifications(e,!1):(n.props.refreshNotifications(),a())})},n.requestMarkAsRead=function(e){var t={Authorization:"token ".concat(n.props.token),"Content-Type":"application/json"};return fetch("".concat(ae,"/notifications/threads/").concat(e),{method:"PATCH",headers:t}).then(function(e){return 205===e.status?Promise.resolve():Promise.reject()}).then(function(){return console.warn("removing",e),n.props.removeItemFromStorage(e),n.props.refreshNotifications(),Promise.resolve()})},n.markAsRead=function(e){return n.props.token?(n.setState({loading:!0}),n.requestMarkAsRead(e).catch(function(e){return n.setState({error:e})}).finally(function(){return n.setState({loading:!1})})):(console.error("Unauthenitcated, aborting request."),!1)},n.requestClearCache=function(){return new Promise(function(e,t){return console.warn("clearing cache"),n.props.clearStorageCache(),n.props.refreshNotifications(),n.last_modified=null,e()})},n.clearCache=function(){return n.setState({loading:!0}),n.requestClearCache().catch(function(e){return n.setState({error:e})}).finally(function(){return n.setState({loading:!1})})},n.requestStageThread=function(e){return new Promise(function(t,a){console.warn("staging thread",e);var o=n.props.getItemFromStorage(e);if(o){var i=Object(h.a)({},o,{status:Y.STAGED});return n.props.setItemInStorage(e,i),n.props.refreshNotifications(),t()}throw new Error("Attempted to stage thread ".concat(e," that wasn't found in the cache."))})},n.requestRestoreThread=function(e){return new Promise(function(t,a){console.warn("restoring thread",e);var o=n.props.getItemFromStorage(e);if(o){var i=Object(h.a)({},o,{status:Y.QUEUED});return n.props.setItemInStorage(e,i),n.props.refreshNotifications(),t()}throw new Error("Attempted to restore thread ".concat(e," that wasn't found in the cache."))})},n.stageThread=function(e){return n.setState({loading:!0}),n.requestStageThread(e).catch(function(e){return n.setState({error:e})}).finally(function(){return n.setState({loading:!1})})},n.restoreThread=function(e){return n.setState({loading:!0}),n.requestRestoreThread(e).catch(function(e){return n.setState({error:e})}).finally(function(){return n.setState({loading:!1})})},n.updateNotification=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=[],o={reason:e.reason,time:e.updated_at};t?(a=t.concat(o),console.warn("MULTIPLE REASONS",a)):a=[o];var i={id:e.id,isAuthor:a.some(function(e){return"author"===e.reason}),updated_at:e.updated_at,status:Y.QUEUED,reasons:a,type:e.subject.type,name:e.subject.title,url:oe(e.subject.url),repository:e.repository.full_name,number:e.subject.url.split("/").pop(),repositoryUrl:oe(e.repository.url)};n.props.setItemInStorage(e.id,i)},n.last_modified=null,n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.loading!==t.loading||this.state.error!==t.error||(this.props.token!==e.token||this.props.notifications!==e.notifications)}},{key:"render",value:function(){return this.props.children(Object(h.a)({},this.state,{notifications:this.props.notifications,fetchNotifications:this.fetchNotifications,fetchNotificationsSync:this.requestFetchNotifications,markAsRead:this.markAsRead,clearCache:this.clearCache,stageThread:this.stageThread,restoreThread:this.restoreThread}))}}]),t}(o.a.Component),ce=function(e){return function(t){return o.a.createElement(O,null,function(n){var a=n.token;return o.a.createElement(ne,null,function(n){var i=n.refreshNotifications,r=n.notifications,c=n.getItem,s=n.setItem,l=n.clearCache,u=n.removeItem;return o.a.createElement(re,{refreshNotifications:i,notifications:r,getItemFromStorage:c,setItemInStorage:s,clearStorageCache:l,removeItemFromStorage:u,token:a},function(n){return o.a.createElement(e,Object.assign({},t,{notificationsApi:n}))})})})}},se={ALL:"all",REVIEW_REQUESTED:"review_requested",PARTICIPATING:"participating",SUBSCRIBED:"subscribed",COMMENT:"comment"},le=n(34),ue=n.n(le),fe=n(35),de=n.n(fe),pe=n(36),he=n.n(pe),me=n(37),ge=n.n(me),be=n(38),ve=n.n(be),Ee=n(39),ke=n.n(Ee),ye=n(40),xe=n.n(ye),Oe=n(41),Se=n.n(Oe),we=n(42),je=n.n(we),Ce=n(43),Te=n.n(Ce),Ae=n(44),Ie=n.n(Ae),Ne=n(45),Re=n.n(Ne),Me=n(46),De=n.n(Me),Pe=n(47),Le=n.n(Pe),ze=n(48),Ue=n.n(ze),_e=n(49),qe=n.n(_e),We=n(50),Fe=n.n(We),Ge=n(51),He=n.n(Ge),Be=n(52),Qe=n.n(Be),Xe=n(53),Ye=n.n(Xe),Je=n(54),Ve=n.n(Je),$e=n(55),Ke=n.n($e),Ze=n(56),et=n.n(Ze),tt=n(57),nt=n.n(tt),at=n(58),ot=n.n(at),it=n(59),rt=n.n(it),ct=n(60),st=n.n(ct),lt=n(61),ut=n.n(lt),ft=n(62),dt=n.n(ft),pt=n(63),ht=n.n(pt),mt=n(64),gt=n.n(mt),bt=n(65),vt=n.n(bt),Et=n(66),kt=n.n(Et),yt=n(67),xt=n.n(yt),Ot=n(68),St=n.n(Ot),wt=n(69),jt=n.n(wt),Ct=n(70),Tt=n.n(Ct),At=n(71),It=n.n(At),Nt=n(72),Rt=n.n(Nt),Mt=n(73),Dt=n.n(Mt),Pt=n(74),Lt=n.n(Pt),zt=n(75),Ut=n.n(zt),_t=n(76),qt=n.n(_t),Wt=n(77),Ft=n.n(Wt),Gt=Object(T.a)("div")({position:"relative",backgroundSize:"cover",fontSize:14,display:"flex",justifyContent:"center",alignItems:"center"},function(e){var t=e.size,n=e.icon,a=e.opacity,o=e.shrink;return{height:t||24,width:t||24,background:"url(".concat(n,") center center no-repeat"),opacity:a,transform:o?"scale(".concat(o,")"):"inherit"}});function Ht(e){var t=e.src,n=Object(C.a)(e,["src"]);return o.a.createElement(Gt,Object.assign({},n,{icon:t}),"\xa0")}var Bt=function(e){return function(t){return o.a.createElement(Ht,Object.assign({},t,{src:e}))}};Ht.Alarm=Bt(ue.a),Ht.AllInbox=Bt(de.a),Ht.Back=Bt(he.a),Ht.Bolt=Bt(ge.a),Ht.BoltWhite=Bt(ve.a),Ht.BookmarkAlt=Bt(ke.a),Ht.BookmarkAltWhite=Bt(xe.a),Ht.Bookmark=Bt(Se.a),Ht.Bookmarks=Bt(je.a),Ht.Check=Bt(Te.a),Ht.Clock=Bt(Ie.a),Ht.Convo=Bt(Re.a),Ht.DoneAll=Bt(De.a),Ht.Done=Bt(Le.a),Ht.Hot=Bt(Ue.a),Ht.Help=Bt(qe.a),Ht.Inbox=Bt(Fe.a),Ht.Info=Bt(He.a),Ht.InboxWhite=Bt(Qe.a),Ht.Locked=Bt(Ye.a),Ht.LowPriority=Bt(Ve.a),Ht.Menu=Bt(Ke.a),Ht.Next=Bt(et.a),Ht.People=Bt(nt.a),Ht.PeopleWhite=Bt(ot.a),Ht.PeopleAlt=Bt(rt.a),Ht.PeopleAltWhite=Bt(st.a),Ht.Prev=Bt(ut.a),Ht.Refresh=Bt(dt.a),Ht.Search=Bt(ht.a),Ht.Settings=Bt(gt.a),Ht.StarAlt=Bt(vt.a),Ht.Star=Bt(kt.a),Ht.Trash=Bt(xt.a),Ht.Timer=Bt(St.a),Ht.Unlocked=Bt(jt.a),Ht.Undo=Bt(Tt.a),Ht.User=Bt(It.a),Ht.X=Bt(Rt.a),Ht.IssueClosed=Bt(Dt.a),Ht.IssueOpen=Bt(Lt.a),Ht.PrClosed=Bt(Ut.a),Ht.PrOpen=Bt(qt.a),Ht.PrMerged=Bt(Ft.a);var Qt=n(78),Xt=n.n(Qt),Yt=n(79),Jt=n.n(Yt),Vt=n(80),$t=n.n(Vt);function Kt(e){var t=e.style,n=e.size,a=e.alt,i=e.white,r=Object(C.a)(e,["style","size","alt","white"]),c=Xt.a;return i?c=$t.a:a&&(c=Jt.a),o.a.createElement("div",Object.assign({style:Object(h.a)({background:"url(".concat(c,") center center no-repeat"),position:"relative",height:n||100,width:n||100,margin:"0 auto"},t)},r))}var Zt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).getTooltipElement=function(){return document.querySelector("#".concat(n.id))},n.onMouseEnter=function(e){if(!n.getTooltipElement()){var t=n.props,a=t.tooltipOffsetX,o=t.tooltipOffsetY,i=e.target.getBoundingClientRect(),r=i.x,c=i.y,s=(i.height,document.createTextNode(n.props.message)),l=document.createElement("div");l.setAttribute("id",n.id),l.setAttribute("class","react-tooltip"),l.setAttribute("style","top: ".concat(c+o,"px; left: ").concat(r+a,"px;")),l.appendChild(s),document.querySelector("body").appendChild(l),n.timeout=setTimeout(function(){l.setAttribute("style","top: ".concat(c+o,"px; left: ").concat(r+a,"px; opacity: .83;"))},500)}},n.onMouseLeave=function(){clearTimeout(n.timeout);var e=n.getTooltipElement();e&&e.parentNode.removeChild(e)},n.id=("tooltip-id-"+Math.random()).replace(/\./g,""),n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.children({onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})}}]),t}(o.a.Component);Zt.defaultProps={tooltipOffsetX:0,tooltipOffsetY:0};var en=function(e){return function(t){var n=t.tooltip,a=t.tooltipOffsetX,i=t.tooltipOffsetY,r=Object(C.a)(t,["tooltip","tooltipOffsetX","tooltipOffsetY"]);return o.a.createElement(Zt,{message:n,tooltipOffsetX:a,tooltipOffsetY:i},function(t){return n?o.a.createElement(e,Object.assign({},r,t)):o.a.createElement(e,r)})}};var tn,nn,an=Object(T.a)("div")({height:"80%",maxWidth:270,display:"block",position:"fixed"}),on=Object(T.a)("div")({div:{display:"inline-block"}}),rn=Object(T.a)("div")({position:"relative",background:"#fff",margin:"0 auto",padding:0,width:"100%",height:"100%",display:"flex",flexDirection:"row",overflowX:"hidden",boxSizing:"border-box"}),cn=Object(T.a)("div")({position:"fixed",top:0,boxSizing:"border-box",margin:"0 auto",width:"100%",height:60,color:"hsla(0,0%,100%,.75)",paddingBottom:"12px",paddingTop:"12px",zIndex:"100"}),sn=Object(T.a)(cn)({position:"relative",zIndex:"1",height:"initial",minHeight:60,width:"95%",margin:0,background:"#fff",padding:"8px 16px",paddingTop:18,flex:"0 0 50px",button:{display:"inline-flex",margin:0}}),ln=Object(T.a)("div")({flex:"0 0 300px",padding:"32px 20px",paddingRight:0,display:"flex",justifyContent:"center"}),un=Object(T.a)("a")({},function(e){var t=e.active,n=e.color;return{textAlign:"left",userSelect:"none",margin:"0 auto 5px",position:"relative",cursor:"pointer",borderRadius:4,alignItems:"center",padding:"0 14px",height:40,width:200,fontSize:"12px",fontWeight:600,letterSpacing:.5,textTransform:"capitalize",textDecoration:"none",transition:"background 0.12s ease-in-out",display:"flex",background:t?n:"none",color:t?"#fff":"#202124",":before":{content:'""',transition:"all 150ms ease",background:"rgba(190, 197, 208, 0.25)",borderRadius:4,display:"block",top:0,bottom:0,right:0,left:0,position:"absolute",transform:"scale(0)"},":hover:before":{transform:t?"scale(0)":"scale(1)"},":active:before":{background:"rgba(190, 197, 208, 0.5)"},div:{marginRight:5}}}),fn=Object(T.a)("div")({flex:1}),dn=Object(T.a)("a")({position:"relative",textTransform:"capitalize",userSelect:"none",borderRadius:4,textDecoration:"none",fontWeight:"500",fontSize:"14px",textAlign:"left",opacity:.6,padding:"20px 32px",paddingLeft:"16px",width:"150px",display:"inline-block",margin:0,transition:"all 150ms ease",":hover":{background:"rgba(190, 197, 208, 0.25)"}},function(e){var t=e.number;return{":after":t>0&&{content:'"'.concat(t,'"'),color:"#ffffff",background:"#a8a8a9",fontSize:"10px",verticalAlign:"text-top",padding:"1px 8px",borderRadius:"4px",marginLeft:"6px",display:"inline-block"}}},function(e){var t=e.active,n=e.color,a=e.number;return t&&{color:n,opacity:1,":before":{content:'""',position:"absolute",background:n,height:"3px",width:"90%",bottom:"0",left:"5%",borderTopLeftRadius:"4px",borderTopRightRadius:"4px"},":after":a>0&&{content:'"'.concat(a,'"'),color:"#ffffff",background:n,fontSize:"10px",verticalAlign:"text-top",padding:"1px 8px",borderRadius:"4px",marginLeft:"6px",display:"inline-block"}}}),pn=Object(T.a)("button")({position:"relative",userSelect:"none",cursor:"pointer",border:0,outline:"none",background:"none",height:40,width:40,borderRadius:"100%",margin:"0 auto",display:"flex",justifyContent:"center",alignItems:"center",":before":{content:"''",transition:"all 150ms ease",background:"rgba(190, 197, 208, 0.25)",borderRadius:"100%",display:"block",height:40,width:40,position:"absolute",transform:"scale(0)"},":hover:before":{transform:"scale(1)"},":active:before":{background:"rgba(190, 197, 208, 0.5)"}},function(e){return e.disabled&&{background:"none !important",opacity:.35,cursor:"default",":hover:before":{transform:"scale(0) !important"},":active:before":{background:"none !important"}}}),hn=Object(T.a)("div")({float:"left",textAlign:"left",width:"50%",boxShadow:"0 4px 6px rgba(50,50,93,.11), 0 1px 3px rgba(0,0,0,.08)",margin:"0 auto",background:"hsla(0,0%,100%,.125)",borderRadius:"4px",alignItems:"center",padding:0,height:"36px",fontSize:"13px",textDecoration:"none",transition:"all 0.06s ease-in-out",display:"inline-flex",":focus-within":{background:"#fff"}}),mn=Object(T.a)("div")({display:"block",textAlign:"center",marginTop:120,p:{paddingTop:24,userSelect:"none",display:"block",margin:0}}),gn=Object(T.a)("div")({display:"flex",justifyContent:"center",alignItems:"center",height:"100%"}),bn=Object(T.a)("input")({flex:1,textAlign:"left",margin:"0 auto",background:"none",padding:0,height:"36px",color:"#fff",fontSize:"13px",textDecoration:"none",display:"inline-flex",border:"0",outline:"none",":focus":{color:"#202124"}}),vn=(tn=bn,function(e){var t=e.onEnter,n=Object(C.a)(e,["onEnter"]);return o.a.createElement(tn,Object.assign({},n,{onKeyPress:function(e){"Enter"===e.key&&t(e)}}))}),En=Object(T.a)("tr")({position:"relative",display:"flex",alignItems:"center",textAlign:"left",width:"100%",borderRadius:4,margin:"0 auto",background:"#fff",padding:"8px 16px",transition:"all 0.1s ease-in-out",boxSizing:"border-box",":hover":{background:"#f9f9f9",zIndex:10}}),kn=Object(T.a)(pn)({display:"inline-flex",margin:0}),yn=Object(T.a)("span")({position:"relative",margin:0,marginLeft:10,fontSize:11,opacity:.5}),xn=Object(T.a)("span")({position:"relative",display:"block"},function(e){var t=e.img;return t&&{paddingLeft:20,"::before":{content:'""',position:"absolute",display:"block",background:"url(".concat(t,") center center no-repeat"),backgroundSize:"cover",left:0,height:20,width:20}}}),On=Object(T.a)("span")({fontWeight:500,marginLeft:10,fontSize:14}),Sn=Object(T.a)(On)({fontWeight:400},function(e){var t=e.after;return{":after":{content:'"#'.concat(t,'"'),fontSize:13,opacity:.3,marginLeft:5}}}),wn=Object(T.a)("table")({width:"96%",minWidth:970,td:{display:"inline-block"}}),jn=Object(T.a)("td")({whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},function(e){return{width:e.width,flex:e.flex}}),Cn=Object(T.a)("a")({display:"block",marginRight:10,cursor:"pointer",fontSize:10,lineHeight:"20px",fontWeight:400,textDecoration:"underline",transition:"all 0.12s ease-in-out",":hover":{opacity:.75}}),Tn=en(pn),An=en(dn),In=en(kn),Nn=en(un),Rn=en(Ht.Hot),Mn=en(Ht.Timer),Dn=en(Ht.Convo);function Pn(e){var t=e.queuedCount,n=e.stagedCount,a=e.closedCount,i=e.first,r=e.last,c=e.lastPage,s=e.page,l=e.notifications,u=e.query,f=e.activeStatus,h=e.allNotificationsCount,m=e.stagedTodayCount,g=e.onChangePage,v=e.onSetActiveStatus,E=e.onClearQuery,k=e.onLogout,y=e.onSearch,x=e.onMarkAsRead,O=e.onFetchNotifications,S=(e.onRefreshNotifications,e.onStageThread),w=e.onRestoreThread,j=e.isSearching,C=e.isFetchingNotifications,T=e.onClearCache,A=(e.fetchingNotificationsError,e.activeFilter),I=e.onSetActiveFilter,N=j||C,R=1===s,M=s===c;return console.warn("before render in scene",l),o.a.createElement("div",{style:{marginTop:60}},o.a.createElement(cn,{className:"container-gradient"},o.a.createElement("div",{style:{textAlign:"right",margin:"0 auto",width:"92%"}},o.a.createElement(P,{size:36,style:{float:"left",marginRight:48,cursor:"pointer"},onClick:function(){v(Y.QUEUED),I(se.PARTICIPATING)}}),o.a.createElement(hn,null,o.a.createElement(Ht.Search,{size:48,opacity:.45}),o.a.createElement(vn,{disabled:N,type:"text",placeholder:"Search for notifications",onEnter:y}),j&&o.a.createElement(Kt,{white:!0,size:48})),o.a.createElement("div",{style:{display:"inline-block"},className:"button-container-alt"},o.a.createElement(d.a,{style:{marginRight:15,background:"none",color:"#fff",height:36,padding:"0 12px"},to:p.HOME},"home")),o.a.createElement("div",{style:{display:"inline-block"},className:"button-container-alt"},o.a.createElement("a",{style:{marginRight:15,background:"none",color:"#fff",height:36,padding:"0 12px"},href:"#",onClick:k},"sign out")))),o.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},o.a.createElement("div",{style:{flex:"0 0 300px"}},o.a.createElement(ln,null,o.a.createElement(an,null,o.a.createElement("div",{style:{width:220,padding:"0 14px",margin:"0 11px 12px"}},o.a.createElement("h3",{style:{margin:0}},o.a.createElement(Ht.Clock,{style:{display:"inline-block",verticalAlign:"middle",marginRight:"5px",top:"-3px"}}),b()().format("h:mma")),o.a.createElement("span",{style:{display:"block",padding:"6px 0px",fontSize:15,opacity:.7}},b()().format("dddd, MMMM Do")),o.a.createElement("span",{style:{display:"block",padding:"6px 0 8px",fontSize:12,opacity:.5}},"You've triaged ",m," notifications today")),o.a.createElement(Nn,{tooltip:"All the updates for issues and pull requests that are your responsibility to deal with",tooltipOffsetX:130,active:A===se.PARTICIPATING,color:"#00d19a",onClick:function(){return I(se.PARTICIPATING)}},A===se.PARTICIPATING?o.a.createElement(Ht.BoltWhite,{shrink:.6}):o.a.createElement(Ht.Bolt,{shrink:.6}),"your updates"),o.a.createElement(Nn,{tooltip:"Updates for issues and pull requests that you have commented on",tooltipOffsetX:100,active:A===se.COMMENT,color:"#00A0F5",onClick:function(){return I(se.COMMENT)}},A===se.COMMENT?o.a.createElement(Ht.PeopleAltWhite,{shrink:.6}):o.a.createElement(Ht.PeopleAlt,{shrink:.6}),"participating"),o.a.createElement("div",{style:{padding:14,margin:21,background:"#f5f5f5",borderRadius:4,height:100,fontSize:12}},"bar chart, statistics, etc"),o.a.createElement("div",{style:{padding:14,margin:21}},o.a.createElement(Cn,{target:"_blank",href:"https://github.com/nickzuber/meteorite/issues"},"Report bugs"),o.a.createElement(Cn,{target:"_blank",href:"https://github.com/nickzuber/meteorite/issues"},"Submit feedback"),o.a.createElement(Cn,{target:"_blank",href:"https://github.com/nickzuber/meteorite"},"See source code"))))),o.a.createElement("div",{style:{flex:1}},o.a.createElement(sn,null,o.a.createElement(Tn,{tooltip:N?null:"Refresh your notifications",disabled:N},o.a.createElement(Ht.Refresh,{opacity:.9,onClick:N?void 0:function(){return O()}})),o.a.createElement(Tn,{tooltip:N?null:"Delete all of your notifications from the cache",disabled:N},o.a.createElement(Ht.Trash,{opacity:.9,onClick:N?void 0:function(){window.confirm("Are you sure you want to clear the cache?")&&T()}})),u?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{display:"inline-block"},className:"button-container-alt"},o.a.createElement("a",{style:{background:"none",color:"#202124",textTransform:"inherit",boxShadow:"0 0 0",fontWeight:400,height:36,padding:"0 12px"}},"Showing results for '",u,"'")),o.a.createElement(Tn,{disabled:N},o.a.createElement(Ht.X,{opacity:.9,onClick:N?void 0:function(){return E()}}))):null,o.a.createElement("div",{style:{float:"right"}},o.a.createElement("div",{style:{display:"inline-block"},className:"button-container-alt"},o.a.createElement("a",{style:{marginRight:15,background:"none",color:"#202124",textTransform:"inherit",boxShadow:"0 0 0",fontWeight:400,height:36,padding:"0 12px"}},i,"-",r," of about ",h)),o.a.createElement(Tn,{disabled:N||R},o.a.createElement(Ht.Prev,{opacity:.9,onClick:N||R?void 0:function(){return g(s-1)}})),o.a.createElement(Tn,{disabled:N||M},o.a.createElement(Ht.Next,{opacity:.9,onClick:N||M?void 0:function(){return g(s+1)}})))),o.a.createElement(sn,{style:{paddingTop:4}},o.a.createElement(An,{tooltip:"New updates that you haven't dealt with yet",tooltipOffsetX:55,number:t,color:"#00d19a",active:f===Y.QUEUED,onClick:function(){return v(Y.QUEUED)},href:"javascript:void(0);"},"Unread"),o.a.createElement(An,{tooltip:"Notifications that you've seen, clicked on, or otherwise have handled",tooltipOffsetX:55,number:n,color:"#009ef8",active:f===Y.STAGED,onClick:function(){return v(Y.STAGED)},href:"javascript:void(0);"},"Read"),o.a.createElement(An,{tooltip:"Stale and old notifications that are considered closed out and finished",tooltipOffsetX:55,number:a,color:"#f12c3f",active:f===Y.CLOSED,onClick:function(){return v(Y.CLOSED)},href:"javascript:void(0);"},"Resolved")),o.a.createElement(rn,null,o.a.createElement(fn,null,C?o.a.createElement(gn,null,o.a.createElement(Kt,null)):l.length<=0?o.a.createElement(mn,null,o.a.createElement("p",{style:{fontSize:16,fontWeight:400}},"No ",f.toLowerCase()," notifications"),o.a.createElement("p",{style:{fontSize:12,fontWeight:400,color:"#5f6368"}},o.a.createElement("span",{role:"img","aria-label":"hooray"},"\ud83c\udf89")," You're all set here for the moment")):o.a.createElement(wn,null,o.a.createElement("tbody",{style:{display:"flex",flexDirection:"column"}},l.map(function(e){return o.a.createElement(En,{key:e.id},o.a.createElement(jn,null,o.a.createElement("div",{style:{float:"left",marginTop:2}},function(e,t){switch(e){case"PullRequest":return o.a.createElement(Ht.PrMerged,{shrink:1});case"Issue":return o.a.createElement(Ht.IssueOpen,{shrink:1});default:return null}}(e.type,e.reasons))),o.a.createElement(jn,{style:{height:36,cursor:"pointer",userSelect:"none"},width:400,flex:.65,onClick:function(){window.open(e.url),S(e.id,e.repository)}},o.a.createElement(xn,null,o.a.createElement(Sn,{after:e.number},e.name)),o.a.createElement(yn,null,function(e){var t=b()(),n=b()(e),a=t.diff(n,"minutes");if(a<1)return"Just now";if(a<5)return"Few minutes ago";if(a<60)return a+" minutes ago";if(a<1440)return Math.floor(a/60)+" hours ago";var o=t.diff(n,"days");return 1===o?"Yesterday":o<=7?"Last "+n.format("dddd"):"Long time ago"}(e.updated_at),e.isAuthor&&o.a.createElement(Ht.User,{shrink:.5,style:{display:"inline-block",top:-3}}))),o.a.createElement(jn,{width:100},o.a.createElement(on,null,e.badges.map(function(e){switch(e){case V.HOT:return o.a.createElement(Rn,{tooltip:"Lots of recent activity",tooltipOffsetX:-15,tooltipOffsetY:-10,shrink:.75});case V.OLD:return o.a.createElement(Mn,{tooltip:"Old pull request that needs your review",tooltipOffsetX:-15,tooltipOffsetY:-10,shrink:.75});case V.COMMENTS:return o.a.createElement(Dn,{tooltip:"Very talkative thread",tooltipOffsetX:-15,tooltipOffsetY:-10,shrink:.75});default:return null}}))),o.a.createElement(jn,{width:250,flex:.35},o.a.createElement(On,{onClick:function(){return window.open(e.repositoryUrl)},style:{cursor:"pointer",userSelect:"none"}},e.repository)),o.a.createElement(jn,{width:150,style:{textAlign:"right"}},o.a.createElement(In,null,e.score),f===Y.QUEUED?o.a.createElement(In,{tooltip:N?null:"Mark as read"},o.a.createElement(Ht.Check,{opacity:.9,onClick:N?void 0:function(){return S(e.id,e.repository)}})):o.a.createElement(In,{tooltip:N?null:"Revert back to unread"},o.a.createElement(Ht.Undo,{opacity:.9,onClick:N?void 0:function(){return w(e.id)}})),f===Y.CLOSED?o.a.createElement(In,null,o.a.createElement(Ht.Help,{shrink:.8,opacity:.9,onClick:N?void 0:function(){}})):o.a.createElement(In,{tooltip:N?null:"Mark as resolved"},o.a.createElement(Ht.X,{opacity:.9,onClick:N?void 0:function(){return x(e.id)}}))))}))))))))}var Ln=(nn={},Object(X.a)(nn,J.ASSIGN,18),Object(X.a)(nn,J.AUTHOR,10),Object(X.a)(nn,J.MENTION,12),Object(X.a)(nn,J.OTHER,2),Object(X.a)(nn,J.REVIEW_REQUESTED,30),Object(X.a)(nn,J.SUBSCRIBED,3),Object(X.a)(nn,J.COMMENT,6),nn),zn=function(e){return Object(h.a)({},e,{score:function(e){for(var t=e.reasons,n=0,a=null,o=0;o<t.length;o++){var i=t[o].reason;if(console.log(i),a&&i===a){var r=Math.ceil(Ln[i]/3);n+=Math.max(r,2)}else n+=Ln[i];a=i}return n}(e),badges:function(e){var t=[],n=e.reasons.length,a=b()().diff(b()(e.reasons[n-1].time),"minutes");if(n>=4&&a<30){var o=b()(e.reasons[n-4].time);b()(e.reasons[n-1].time).diff(o,"hours")<=1&&t.push(V.HOT)}return n>6&&t.push(V.COMMENTS),e.reasons.some(function(e){return e.reason===J.REVIEW_REQUESTED})&&a>240&&t.push(V.OLD),t}(e)})},Un=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={isSearching:!1,query:null,activeFilter:se.PARTICIPATING,activeStatus:Y.QUEUED,currentPage:1},n.onChangePage=function(e){n.setState({currentPage:e})},n.onSetActiveFilter=function(e){n.setState({activeFilter:e,currentPage:1})},n.onSetActiveStatus=function(e){n.setState({activeStatus:e,currentPage:1})},n.onClearQuery=function(){n.setState({query:null})},n.onLogout=function(){n.props.cookiesApi.removeCookie(k),n.props.authApi.invalidateToken()},n.onSearch=function(e){var t=e.target.value;t.length<=0||(n.setState({isSearching:!0}),setTimeout(function(){n.setState({query:t,isSearching:!1})},500))},n.enhancedOnStageThread=function(e,t){console.warn("staging thread",e,"in repo",t),n.props.storageApi.incrStat("stagedCount"),n.props.storageApi.incrStat(t+"-stagedCount"),n.props.notificationsApi.stageThread(e)},n.restoreThread=function(e){console.warn("restoring thread"),n.props.notificationsApi.restoreThread(e)},n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.syncer=setInterval(function(){console.warn("sync"),e.props.notificationsApi.fetchNotificationsSync()},8e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.syncer)}},{key:"render",value:function(){var e=this;if(!this.props.authApi.token)return o.a.createElement(d.b,{noThrow:!0,to:p.LOGIN});var t=this.props.notificationsApi,n=t.fetchNotifications,a=t.markAsRead,i=t.clearCache,r=t.notifications,c=t.loading,s=t.error,l=function(){return!0};switch(this.state.activeFilter){case se.PARTICIPATING:l=function(e){return e.reasons.some(function(e){var t=e.reason;return"review_requested"===t||"assign"===t||"mention"===t||"author"===t})};break;case se.COMMENT:l=function(e){return e.reasons.some(function(e){return"comment"===e.reason})};break;default:l=function(){return!0}}var u=r.filter(l),f=u.filter(function(e){return e.status===Y.QUEUED}),h=u.filter(function(e){return e.status===Y.STAGED}),m=u.filter(function(e){return e.status===Y.CLOSED}),g=[];switch(this.state.activeStatus){case Y.CLOSED:g=m;break;case Y.STAGED:g=h;break;case Y.QUEUED:default:g=f}var b=g.map(zn).sort(function(e,t){return t.score-e.score});this.state.query&&(b=b.filter(function(t){return t.name.toLowerCase().indexOf(e.state.query.toLowerCase())>-1}));var v=15*(this.state.currentPage-1),E=15*this.state.currentPage,k=b.slice(v,E),y=Math.ceil(b.length/15),x=v+1,O=Math.min(E,b.length);0===b.length&&(v=0,E=0,k=[],y=1,x=0,O=0);var S=this.props.storageApi.getStat("stagedCount")[0];return o.a.createElement(Pn,{queuedCount:f.length,stagedCount:h.length,closedCount:m.length,stagedTodayCount:S||0,first:x,last:O,lastPage:y,allNotificationsCount:b.length,notifications:k,query:this.state.query,page:this.state.currentPage,activeStatus:this.state.activeStatus,activeFilter:this.state.activeFilter,onChangePage:this.onChangePage,onLogout:this.onLogout,onSetActiveStatus:this.onSetActiveStatus,onSearch:this.onSearch,onClearQuery:this.onClearQuery,onFetchNotifications:n,onMarkAsRead:a,onClearCache:i,onStageThread:this.enhancedOnStageThread,onRestoreThread:this.restoreThread,onRefreshNotifications:this.props.storageApi.refreshNotifications,isSearching:this.state.isSearching,isFetchingNotifications:c,fetchingNotificationsError:s,onSetActiveFilter:this.onSetActiveFilter})}}]),t}(o.a.Component),_n=Object(j.a)(function(e){return function(t){return o.a.createElement(ne,null,function(n){return o.a.createElement(e,Object.assign({},t,{storageApi:n}))})}},S,E,ce)(Un),qn=n(81),Wn=n.n(qn),Fn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=Wn.a.parse(document.location.search).code;t&&(this.props.onSetLoading(!0),fetch("https://meteorite-gatekeeper.herokuapp.com/authenticate/".concat(t)).then(function(e){return e.json()}).then(function(t){var n=t.token,a=t.error;e.props.onSetLoading(!1),a?e.props.onSetError(!0):e.props.setToken(n)}))}},{key:"render",value:function(){return null}}]),t}(o.a.Component),Gn=function(e){return o.a.createElement("a",Object.assign({href:"https://github.com/login/oauth/authorize?client_id=".concat("9478c90e57ef3d546ef0","&scope=").concat("notifications","&redirect_uri=").concat("http://localhost:9008/login")},e),"Authorize with GitHub")},Hn=Object(T.a)("p")({color:"#eb3349",fontWeight:500});function Bn(e){var t=e.children,n=e.props;return o.a.createElement(Hn,n,t)}var Qn=Object(T.a)("div")({position:"relative",background:"#fff",borderRadius:4,margin:"0 auto",padding:"24px 48px 76px",width:300,boxShadow:"0 50px 100px rgba(50,50,93,.1), 0 15px 35px rgba(50,50,93,.15), 0 5px 15px rgba(0,0,0,.1)"}),Xn=Object(T.a)("div")({display:"flex",justifyContent:"space-between",position:"absolute",bottom:24,left:48,right:48,a:{margin:0}});function Yn(e){var t=e.loading,n=e.error,a=e.loggedOut;Object(C.a)(e,["loading","error","loggedOut"]);return o.a.createElement("div",{className:"container-gradient",style:{width:"100%",position:"relative",flexDirection:"column",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(Qn,null,o.a.createElement("h3",null,"Authenticate with GitHub"),n?o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Log in with GitHub and we'll start organizing and sorting all of your notifications."),o.a.createElement(Bn,null,"Oops, looks like something went wrong. Try again?"),o.a.createElement(Xn,null,o.a.createElement("div",{className:"button-container-alt"},o.a.createElement(d.a,{style:{boxShadow:"0 0 0"},to:p.HOME},"go back")),o.a.createElement("div",{className:"button-container-alt"},o.a.createElement(Gn,{style:{boxShadow:"0 0 0"}})))):t?o.a.createElement(Kt,{style:{marginTop:50}}):a?o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Log in with GitHub and we'll start organizing and sorting all of your notifications."),o.a.createElement(Xn,null,o.a.createElement("div",{className:"button-container-alt"},o.a.createElement(d.a,{style:{boxShadow:"0 0 0"},to:p.HOME},"go back")),o.a.createElement("div",{className:"button-container-alt"},o.a.createElement(Gn,{style:{boxShadow:"0 0 0"}})))):o.a.createElement("span",null,"logged in!")))}var Jn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={loading:!1,error:null},n.onSetLoading=function(e){n.setState({loading:e})},n.onSetError=function(e){n.setState({error:e})},n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.authApi.token?o.a.createElement(d.b,{noThrow:!0,to:p.NOTIFICATIONS}):o.a.createElement(o.a.Fragment,null,o.a.createElement(Fn,{setToken:this.props.authApi.setToken,onSetLoading:this.onSetLoading,onSetError:this.onSetError}),o.a.createElement(Yn,{loading:this.state.loading,error:this.state.error,loggedOut:!this.props.authApi.token}))}}]),t}(o.a.Component),Vn=Object(j.a)(S,ce,E)(Jn),$n=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(w,null,o.a.createElement(d.c,null,o.a.createElement(Q,{path:p.HOME}),o.a.createElement(Vn,{path:p.LOGIN}),o.a.createElement(_n,{path:p.NOTIFICATIONS})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement($n,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}]),[[83,2,1]]]);
//# sourceMappingURL=main.bf49a8f0.chunk.js.map